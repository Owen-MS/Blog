<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第21-30题 | 黑木小课堂开课了</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="waiting for some one">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.5b7f5b2e.css" as="style"><link rel="preload" href="/Blog/assets/js/app.f375fe27.js" as="script"><link rel="preload" href="/Blog/assets/js/2.c88ae757.js" as="script"><link rel="preload" href="/Blog/assets/js/12.30354b1f.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.f427b6bd.js"><link rel="prefetch" href="/Blog/assets/js/11.9f304a35.js"><link rel="prefetch" href="/Blog/assets/js/13.95eae7c7.js"><link rel="prefetch" href="/Blog/assets/js/14.00cadfd8.js"><link rel="prefetch" href="/Blog/assets/js/15.7e69b1b3.js"><link rel="prefetch" href="/Blog/assets/js/16.86c1a2b9.js"><link rel="prefetch" href="/Blog/assets/js/17.e83a8852.js"><link rel="prefetch" href="/Blog/assets/js/18.92355088.js"><link rel="prefetch" href="/Blog/assets/js/19.8957735b.js"><link rel="prefetch" href="/Blog/assets/js/20.9a915d6e.js"><link rel="prefetch" href="/Blog/assets/js/21.85678c64.js"><link rel="prefetch" href="/Blog/assets/js/22.2c0d25ad.js"><link rel="prefetch" href="/Blog/assets/js/23.21d51aaa.js"><link rel="prefetch" href="/Blog/assets/js/24.3f674744.js"><link rel="prefetch" href="/Blog/assets/js/25.dacf3e23.js"><link rel="prefetch" href="/Blog/assets/js/26.2d73d4ee.js"><link rel="prefetch" href="/Blog/assets/js/27.31409b2d.js"><link rel="prefetch" href="/Blog/assets/js/28.37d71dd3.js"><link rel="prefetch" href="/Blog/assets/js/29.f19180a1.js"><link rel="prefetch" href="/Blog/assets/js/3.acab97b8.js"><link rel="prefetch" href="/Blog/assets/js/30.9d4cc355.js"><link rel="prefetch" href="/Blog/assets/js/31.690356d1.js"><link rel="prefetch" href="/Blog/assets/js/32.7fc83c11.js"><link rel="prefetch" href="/Blog/assets/js/33.cf78d876.js"><link rel="prefetch" href="/Blog/assets/js/34.5bd1da2f.js"><link rel="prefetch" href="/Blog/assets/js/35.fb37de13.js"><link rel="prefetch" href="/Blog/assets/js/36.83a2a909.js"><link rel="prefetch" href="/Blog/assets/js/37.0bb65fa6.js"><link rel="prefetch" href="/Blog/assets/js/38.087596ab.js"><link rel="prefetch" href="/Blog/assets/js/39.0d56f966.js"><link rel="prefetch" href="/Blog/assets/js/4.5230782c.js"><link rel="prefetch" href="/Blog/assets/js/40.fcadfda4.js"><link rel="prefetch" href="/Blog/assets/js/41.dfef7bbe.js"><link rel="prefetch" href="/Blog/assets/js/42.db06ccfe.js"><link rel="prefetch" href="/Blog/assets/js/43.a7385a7e.js"><link rel="prefetch" href="/Blog/assets/js/44.5cf21fb0.js"><link rel="prefetch" href="/Blog/assets/js/45.78acc165.js"><link rel="prefetch" href="/Blog/assets/js/46.5c585071.js"><link rel="prefetch" href="/Blog/assets/js/47.85395c58.js"><link rel="prefetch" href="/Blog/assets/js/48.313c1cfa.js"><link rel="prefetch" href="/Blog/assets/js/49.5fafc2be.js"><link rel="prefetch" href="/Blog/assets/js/5.59a7f641.js"><link rel="prefetch" href="/Blog/assets/js/50.e3e1ae37.js"><link rel="prefetch" href="/Blog/assets/js/51.5ab1f37e.js"><link rel="prefetch" href="/Blog/assets/js/52.fcb023e8.js"><link rel="prefetch" href="/Blog/assets/js/53.5fa1c1ef.js"><link rel="prefetch" href="/Blog/assets/js/54.47d8c3fa.js"><link rel="prefetch" href="/Blog/assets/js/55.1b1649e8.js"><link rel="prefetch" href="/Blog/assets/js/56.5d99f046.js"><link rel="prefetch" href="/Blog/assets/js/57.cf117917.js"><link rel="prefetch" href="/Blog/assets/js/58.a932e8d4.js"><link rel="prefetch" href="/Blog/assets/js/59.306d018b.js"><link rel="prefetch" href="/Blog/assets/js/6.34fe87b9.js"><link rel="prefetch" href="/Blog/assets/js/60.9003beca.js"><link rel="prefetch" href="/Blog/assets/js/61.2a593451.js"><link rel="prefetch" href="/Blog/assets/js/62.025e604c.js"><link rel="prefetch" href="/Blog/assets/js/63.5182eb4a.js"><link rel="prefetch" href="/Blog/assets/js/64.327872a2.js"><link rel="prefetch" href="/Blog/assets/js/65.d528f6a9.js"><link rel="prefetch" href="/Blog/assets/js/66.e849914a.js"><link rel="prefetch" href="/Blog/assets/js/67.043b2815.js"><link rel="prefetch" href="/Blog/assets/js/68.71e6f142.js"><link rel="prefetch" href="/Blog/assets/js/69.47370d03.js"><link rel="prefetch" href="/Blog/assets/js/7.6a5ace96.js"><link rel="prefetch" href="/Blog/assets/js/70.f576c656.js"><link rel="prefetch" href="/Blog/assets/js/71.48ec8240.js"><link rel="prefetch" href="/Blog/assets/js/72.707b0cb5.js"><link rel="prefetch" href="/Blog/assets/js/73.1f985a34.js"><link rel="prefetch" href="/Blog/assets/js/74.593152e5.js"><link rel="prefetch" href="/Blog/assets/js/8.098db098.js"><link rel="prefetch" href="/Blog/assets/js/9.31cceed0.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.5b7f5b2e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">黑木小课堂开课了</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/Blog/web/react/" class="nav-link">
  React
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/web/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/Blog/web/css/" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/Blog/web/network/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/Blog/web/dataStructure/" class="nav-link">
  数据结构
</a></li></ul></div></div><div class="nav-item"><a href="/Blog/browser/" class="nav-link">
  浏览器
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程" class="dropdown-title"><span class="title">工程</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程" class="mobile-dropdown-title"><span class="title">工程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/wheel/webpack/" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow down"></span></button> <button type="button" aria-label="博客" class="mobile-dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/collect/skuPath/" class="nav-link">
  skuPath
</a></li><li class="dropdown-item"><!----> <a href="/Blog/collect/JS/" class="nav-link">
  JS常见手写题
</a></li><li class="dropdown-item"><!----> <a href="/Blog/collect/一套面试题/" class="nav-link">
  一套面试题
</a></li><li class="dropdown-item"><!----> <a href="/Blog/collect/错误监控及上报/" class="nav-link">
  错误监控
</a></li></ul></div></div><div class="nav-item"><a href="/Blog/100/" class="nav-link router-link-active">
  前端100问
</a></div><div class="nav-item"><a href="/Blog/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/Blog/diary/" class="nav-link">
  随笔
</a></div><div class="nav-item"><a href="/Blog/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/Owen-MS/Blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/Blog/web/react/" class="nav-link">
  React
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/web/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/Blog/web/css/" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/Blog/web/network/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/Blog/web/dataStructure/" class="nav-link">
  数据结构
</a></li></ul></div></div><div class="nav-item"><a href="/Blog/browser/" class="nav-link">
  浏览器
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程" class="dropdown-title"><span class="title">工程</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程" class="mobile-dropdown-title"><span class="title">工程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/wheel/webpack/" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow down"></span></button> <button type="button" aria-label="博客" class="mobile-dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/collect/skuPath/" class="nav-link">
  skuPath
</a></li><li class="dropdown-item"><!----> <a href="/Blog/collect/JS/" class="nav-link">
  JS常见手写题
</a></li><li class="dropdown-item"><!----> <a href="/Blog/collect/一套面试题/" class="nav-link">
  一套面试题
</a></li><li class="dropdown-item"><!----> <a href="/Blog/collect/错误监控及上报/" class="nav-link">
  错误监控
</a></li></ul></div></div><div class="nav-item"><a href="/Blog/100/" class="nav-link router-link-active">
  前端100问
</a></div><div class="nav-item"><a href="/Blog/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/Blog/diary/" class="nav-link">
  随笔
</a></div><div class="nav-item"><a href="/Blog/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/Owen-MS/Blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Blog/100/1-10.html" class="sidebar-link">第1-10题</a></li><li><a href="/Blog/100/11-20.html" class="sidebar-link">第11-20题</a></li><li><a href="/Blog/100/21-30.html" aria-current="page" class="active sidebar-link">第21-30题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/100/21-30.html#_21、有以下-3-个判断数组的方法-请分别介绍它们之间的区别和优劣" class="sidebar-link">21、有以下 3 个判断数组的方法，请分别介绍它们之间的区别和优劣</a></li><li class="sidebar-sub-header"><a href="/Blog/100/21-30.html#_22、介绍下重绘以及回流-repaint-reflow-以及如何优化" class="sidebar-link">22、介绍下重绘以及回流，（Repaint &amp; Reflow），以及如何优化</a></li><li class="sidebar-sub-header"><a href="/Blog/100/21-30.html#_23、介绍一下订阅者和发布订阅的区别-各自适应什么场景。" class="sidebar-link">23、介绍一下订阅者和发布订阅的区别，各自适应什么场景。</a></li><li class="sidebar-sub-header"><a href="/Blog/100/21-30.html#_24、聊聊redux和vuex的设计思想。" class="sidebar-link">24、聊聊Redux和Vuex的设计思想。</a></li><li class="sidebar-sub-header"><a href="/Blog/100/21-30.html#_25、说说浏览器和node事件循环的区别" class="sidebar-link">25、说说浏览器和Node事件循环的区别</a></li><li class="sidebar-sub-header"><a href="/Blog/100/21-30.html#_26、介绍模块化发展过程" class="sidebar-link">26、介绍模块化发展过程</a></li><li class="sidebar-sub-header"><a href="/Blog/100/21-30.html#_27、const、let声明的变量不在window-那去了哪里呢。" class="sidebar-link">27、const、let声明的变量不在window，那去了哪里呢。</a></li><li class="sidebar-sub-header"><a href="/Blog/100/21-30.html#_28、cookie和token都存在header-为什么不会劫持token。" class="sidebar-link">28、cookie和token都存在header，为什么不会劫持token。</a></li><li class="sidebar-sub-header"><a href="/Blog/100/21-30.html#_29、聊聊vue的双向绑定-model如何改变view-view又是如何改变model的。" class="sidebar-link">29、聊聊Vue的双向绑定，Model如何改变View，View又是如何改变Model的。</a></li><li class="sidebar-sub-header"><a href="/Blog/100/21-30.html#_30、两个数组合并成一个数组" class="sidebar-link">30、两个数组合并成一个数组</a></li></ul></li><li><a href="/Blog/100/31-40.html" class="sidebar-link">第31- 40 题</a></li><li><a href="/Blog/100/41-50.html" class="sidebar-link">第 41 - 50 题</a></li><li><a href="/Blog/100/51-60.html" class="sidebar-link">第 51 - 60 题</a></li><li><a href="/Blog/100/61-70.html" class="sidebar-link">第 61 - 70 题</a></li><li><a href="/Blog/100/71-80.html" class="sidebar-link">第 71 - 80 题</a></li><li><a href="/Blog/100/81-90.html" class="sidebar-link">第 81 - 90 题</a></li><li><a href="/Blog/100/91-100.html" class="sidebar-link">第 91 - 100 题</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第21-30题"><a href="#第21-30题" class="header-anchor">#</a> 第21-30题</h1> <h2 id="_21、有以下-3-个判断数组的方法-请分别介绍它们之间的区别和优劣"><a href="#_21、有以下-3-个判断数组的方法-请分别介绍它们之间的区别和优劣" class="header-anchor">#</a> 21、有以下 3 个判断数组的方法，请分别介绍它们之间的区别和优劣</h2> <div class="language- extra-class"><pre class="language-text"><code>Object.prototype.toString()、instanceof、Array.isArray();
</code></pre></div><p>Array.isArray()在低版本不支持，会使用toString（）; instanceof是在原型链上去查找是否存在，只针对对象类型。</p> <h2 id="_22、介绍下重绘以及回流-repaint-reflow-以及如何优化"><a href="#_22、介绍下重绘以及回流-repaint-reflow-以及如何优化" class="header-anchor">#</a> 22、介绍下重绘以及回流，（Repaint &amp; Reflow），以及如何优化</h2> <ul><li>回流，布局或者几何属性需要改变,dom结构发送变化，例如width、height、padding、position、fontSize</li> <li>重绘，几何属性发生改变或者由于样式发生改变而不会影响布局的，例如，color、background-color、visibility</li></ul> <p>回流一定引起重绘，重绘不一定引起回流。</p> <h3 id="浏览器渲染机制"><a href="#浏览器渲染机制" class="header-anchor">#</a> 浏览器渲染机制</h3> <ul><li>浏览器采用流式布局模型</li> <li>浏览器会把HTML解析成DOM，把CSS解析成CSSOM，DOM和CSSOM结合就生成了Render tree</li> <li>有了Render Tree，我们就知道节点的位置以及节点的样式，然后计算他们在页面上的大小和位置，最后绘制到页面上。</li> <li>由于浏览器采用流式布局，对Render Tree通常只需要遍历一次就可以完成，但table及其内部元素除外，他们 可能需要多次计算，通常要多花3倍同等元素的时间，这也就是尽量避免使用table布局的原因。</li></ul> <h3 id="优化"><a href="#优化" class="header-anchor">#</a> 优化：</h3> <h4 id="css"><a href="#css" class="header-anchor">#</a> CSS</h4> <ul><li>使用 transform 替代 top</li> <li>使用 visibility 替换 display: none ，因为前者只会引起重绘，后者会引发回流（改变了布局</li> <li>避免使用table布局，可能很小的一个小改动会造成整个 table 的重新布局。</li> <li>尽可能在DOM树的最末端改变class，回流是不可避免的，但可以减少其影响。尽可能在DOM树的最末端改变class，可以限制了回流的范围，使其影响尽可能少的节点。</li> <li>避免设置多层内联样式，CSS 选择符从右往左匹配查找，避免节点层级过多。</li> <li>避免使用CSS表达式，可能会引发回流。</li> <li>将频繁重绘或者回流的节点设置为图层，图层能够阻止该节点的渲染行为影响别的节点，例如will-change、video、iframe等标签，浏览器会自动将该节点变为图层。</li> <li>CSS3 硬件加速（GPU加速），使用css3硬件加速，可以让transform、opacity、filters这些动画不会引起回流重绘
。但是对于动画的其它属性，比如background-color这些，还是会引起回流重绘的，不过它还是可以提升这些动画的性能。</li></ul> <h4 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h4> <ul><li>避免频繁操作样式，最好一次性重写style属性，或者将样式列表定义为class并一次性更改class属性。</li> <li>避免频繁操作DOM，创建一个documentFragment，在它上面应用所有DOM操作，最后再把它添加到文档中。</li> <li>避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用，就用一个变量缓存起来。</li> <li>对具有复杂动画的元素使用绝对定位，使它脱离文档流，否则会引起父元素及后续元素频繁回流。</li></ul> <h2 id="_23、介绍一下订阅者和发布订阅的区别-各自适应什么场景。"><a href="#_23、介绍一下订阅者和发布订阅的区别-各自适应什么场景。" class="header-anchor">#</a> 23、介绍一下订阅者和发布订阅的区别，各自适应什么场景。</h2> <h3 id="区别"><a href="#区别" class="header-anchor">#</a> 区别</h3> <p>是否存在第三方、发布者能否直接感知订阅者。</p> <p>观察者模式，解决的其实是模块间的耦合问题，有它在，即使是两个分离的、毫不相干的模块，也可食实现数据通信。 但观察者模式仅仅是为了减少了耦合，并没有完全的解决耦合问题-被观察者必须去维护一套观察者的集合，这些
观察者必须实现统一的方法供观察者调用，两者之间还是有着说不清、道不明的关系，</p> <p>而发布订阅则是快刀斩乱麻-发布者完全不用感知订阅者，不用关心它怎么实现回调方法，事件的注册和触发都发生 在独立于第三方平台（事件总线）上，发布订阅模式下，实现了完全的解耦。</p> <h3 id="适用场景"><a href="#适用场景" class="header-anchor">#</a> 适用场景</h3> <p>但并不是说发布订阅更高级。如果两个模块本身之间存在关联，且这种关联是稳定的、必要的，那么我们使用 观察者模式就足够了/而在模块与模块之间独立性较强、且没有必要单纯为了数据通信而强行为两者制造依赖，我们 往往会倾向于使用发布订阅模式。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 观察者</span>
<span class="token keyword">class</span> <span class="token class-name">Publisher</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">obserer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obserer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      item <span class="token operator">!==</span> observer
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">observer</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      observer<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Obserer</span> <span class="token punctuation">{</span>
  <span class="token function">constuctor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>

  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>待手写发布订阅</p> <h2 id="_24、聊聊redux和vuex的设计思想。"><a href="#_24、聊聊redux和vuex的设计思想。" class="header-anchor">#</a> 24、聊聊Redux和Vuex的设计思想。</h2> <h3 id="共同点"><a href="#共同点" class="header-anchor">#</a> 共同点</h3> <p>首先两者都是处理全局状态的工具库，大致实现思想都是：全局state保存状态---&gt; dispatch(action) ----&gt;
reduce(Vuex里的mutation) ---&gt; 生成newState； 整个状态为同步操作。</p> <h3 id="不同点"><a href="#不同点" class="header-anchor">#</a> 不同点</h3> <p>最大的区别在于处理异步的不同，vuex里面多了一步commit操作，在action之后commit（mutation）之前 处理异步，而redux则是通过中间件处理。</p> <h2 id="_25、说说浏览器和node事件循环的区别"><a href="#_25、说说浏览器和node事件循环的区别" class="header-anchor">#</a> 25、说说浏览器和Node事件循环的区别</h2> <p>浏览器环境下，microtask的任务队列是每个macrotask执行完之后执行的。</p> <p>而在node环境，microtask会在事件循环的各个阶段之间执行，也就是一个阶段执行完毕，就会去执行microtask 队列的任务。</p> <p>补充一个例子</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer1'</span><span class="token punctuation">)</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer2'</span><span class="token punctuation">)</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><p>浏览器端-输出顺序 timer1 promise timer promise2</p></li> <li><p>如果是node11版本一旦执行一个阶段里的一个宏任务(setTimeout,setInterval和setImmediate)
就立刻执行微任务队列，这就跟浏览器端运行一致，最后的结果为timer1=&gt;promise1=&gt;timer2=&gt;promise2</p></li> <li><p>如果是node10及其之前版本：要看第一个定时器执行完，第二个定时器是否在完成队列中。</p> <ul><li>如果是第二个定时器还未在完成队列中，最后的结果为timer1=&gt;promise1=&gt;timer2=&gt;promise2</li> <li>如果是第二个定时器已经在完成队列中，则最后的结果为timer1=&gt;timer2=&gt;promise1=&gt;promise2</li></ul></li></ul> <h2 id="_26、介绍模块化发展过程"><a href="#_26、介绍模块化发展过程" class="header-anchor">#</a> 26、介绍模块化发展过程</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 可从IIFE、AMD、CMD、CommonJS、UMD、 webpack(require.ensure)、</span>
<span class="token comment">// ES Module、&lt;script type=&quot;module&quot;&gt; 这几个角度考虑</span>
</code></pre></div><h3 id="iife-自执行函数"><a href="#iife-自执行函数" class="header-anchor">#</a> IIFE 自执行函数</h3> <p><strong>特点：在一个单独的函数作用域中执行，避免变量冲突。</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="commonjs"><a href="#commonjs" class="header-anchor">#</a> CommonJS</h3> <p>Node.js是common.js的主要实践者，
<strong>特点：同步加载。服务端都存在本地磁盘，比较适合， 但是浏览器端比较适合，因为网络原因</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="amd"><a href="#amd" class="header-anchor">#</a> AMD</h3> <p>通过require.js实现
<strong>特点：依赖前置，提前执行</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'./index.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// code 就是index.js的返回值。</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="cmd"><a href="#cmd" class="header-anchor">#</a> CMD</h3> <p>通过sea.js
<strong>特点：依赖就近，延迟执行</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> indexCode <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./index.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="umd-兼容amd-commonjs-模块化语法。"><a href="#umd-兼容amd-commonjs-模块化语法。" class="header-anchor">#</a> UMD：兼容AMD，CommonJS 模块化语法。</h3> <h3 id="es6-module-运行时加载-原生实现。"><a href="#es6-module-运行时加载-原生实现。" class="header-anchor">#</a> ES6 Module 运行时加载 原生实现。</h3> <h3 id="差异对比"><a href="#差异对比" class="header-anchor">#</a> 差异对比</h3> <h3 id="es6-模块与-commonjs-模块的差异"><a href="#es6-模块与-commonjs-模块的差异" class="header-anchor">#</a> ES6 模块与 CommonJS 模块的差异</h3> <p>1、CommonJS是值得一个拷贝，ES6是值的一个引用</p> <p>2、CommonJS模块是运行时加载，ES6是编译时输出的接口。</p> <ul><li><p>即在输入时是先加载整个模块，生成一个对象，然后再从这个对象上面读取方法，这种加载称为“运行时加载”。</p></li> <li><p>即在import时可以指定加载某个输出值，而不是加载整个模块，这种加载称为“编译时加载”。</p></li></ul> <h2 id="_27、const、let声明的变量不在window-那去了哪里呢。"><a href="#_27、const、let声明的变量不在window-那去了哪里呢。" class="header-anchor">#</a> 27、const、let声明的变量不在window，那去了哪里呢。</h2> <p>作用域分为三种：全局作用域、函数作用域、块级作用域。
<img src="/Blog/assets/img/1.a5589fbf.png" alt="img"></p> <h2 id="_28、cookie和token都存在header-为什么不会劫持token。"><a href="#_28、cookie和token都存在header-为什么不会劫持token。" class="header-anchor">#</a> 28、cookie和token都存在header，为什么不会劫持token。</h2> <p>其中之一特效，就是可以设置请求自动携带cookie，从而通过csrf来劫持cookie。 而token是主动添加的，存储位置不固定。无法自动携带token</p> <p>XSS: 攻击是页面被注入了恶意的代码(字符串转译)
CSRF: 在页面中点击外链，冒名，携带cookie。</p> <h2 id="_29、聊聊vue的双向绑定-model如何改变view-view又是如何改变model的。"><a href="#_29、聊聊vue的双向绑定-model如何改变view-view又是如何改变model的。" class="header-anchor">#</a> 29、聊聊Vue的双向绑定，Model如何改变View，View又是如何改变Model的。</h2> <p>发布订阅</p> <p>Object.defineProperty劫持数据，此时当前收集数据，数据改变，触发set，从而notify更新视图。</p> <h2 id="_30、两个数组合并成一个数组"><a href="#_30、两个数组合并成一个数组" class="header-anchor">#</a> 30、两个数组合并成一个数组</h2> <p>请把两个数组 ['A1', 'A2', 'B1', 'B2', 'C1', 'C2', 'D1', 'D2'] 和
['A', 'B', 'C', 'D']，合并为
['A1', 'A2', 'A', 'B1', 'B2', 'B', 'C1', 'C2', 'C', 'D1', 'D2', 'D']。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">A1</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A1'</span><span class="token punctuation">,</span> <span class="token string">'A2'</span><span class="token punctuation">,</span> <span class="token string">'B1'</span><span class="token punctuation">,</span> <span class="token string">'B2'</span><span class="token punctuation">,</span> <span class="token string">'C1'</span><span class="token punctuation">,</span> <span class="token string">'C2'</span><span class="token punctuation">,</span> <span class="token string">'D1'</span><span class="token punctuation">,</span> <span class="token string">'D2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">A2</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> concat <span class="token operator">=</span> <span class="token constant">A1</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token constant">A2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

concat<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> a1 <span class="token operator">=</span> a<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> a<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> a<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> b1 <span class="token operator">=</span> b<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> b<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> b<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> a1 <span class="token operator">-</span> b1<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/4/2022, 9:07:29 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Blog/100/11-20.html" class="prev">
        第11-20题
      </a></span> <span class="next"><a href="/Blog/100/31-40.html">
        第31- 40 题
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Blog/assets/js/app.f375fe27.js" defer></script><script src="/Blog/assets/js/2.c88ae757.js" defer></script><script src="/Blog/assets/js/12.30354b1f.js" defer></script>
  </body>
</html>
